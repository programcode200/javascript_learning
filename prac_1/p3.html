<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body {
            height: 200vh;
            margin: 0;
            padding: 0;
        }

        .img {
            position: relative;
            top: 40px;
            width: 300px;
            height: 300px;
        }

        #box {
            background-color: wheat;
            width: 200px;
            height: 200px;
        }
    </style>
</head>

<body>
    <img class="img"
        src="https://images.pexels.com/photos/1540258/pexels-photo-1540258.jpeg?auto=compress&cs=tinysrgb&w=600" alt="">
    <button class="btn">click</button>

    <div id="box" oncontextmenu="fun()"></div>


    <script>


        const image = document.querySelector('.img');
        const button = document.querySelector('.btn');

        // button.addEventListener('click', () => {
        //     const xhr = new XMLHttpRequest();
        //     console.log(xhr);

        //     xhr.responseType = 'json';

        //     xhr.addEventListener('load',()=>{
        //         console.log(xhr.response.message);

        //         image.src = xhr.response.message
        //     })


        // //https://httpbin.org/anything
        // //https://dog.ceo/api/breeds/image/random
        // //https://dummyjson.com/users


        // xhr.open('GET','https://dog.ceo/api/breeds/image/random');
        // xhr.send()
        // })


        //***********************************************************************************************************************


        function makehttp(method, url, call) {
            const xhr = new XMLHttpRequest();
            xhr.responseType = 'json'

            xhr.addEventListener('load', () => {
                call(xhr.response);

            })
            xhr.open(method, url);
            xhr.send()
        }

        // makehttp('GET', 'https://dummyjson.com/users', (data) => {
        //     console.log(data);
        // })
        // makehttp('GET', 'https://dummyjson.com/users/2')



        //**********************************************************************************************************************************

        function a(a, b, call) {
            call(a + b);
        }

        // a(10, 22, (sum) => {
        //     console.log(sum);
        // })




        //**********************************************************************************************************************************
        //Page load Evnt


        //execute when dom tree loaded
        window.addEventListener('DOMContentLoaded', function () {
            console.log("DOM tree called");
        });

        //load event occurs when the entire content of a resource, such as an HTML document, image, or other external resources, is completely loaded
        image.addEventListener('load', function () {
            console.log("complete content loaded");
        })



        //**********************************************************************************************************************************

        //oncontextmenu

        //oncontextmenu event occurs when the user right-clicks on an element

        function fun() {
            alert("clicked")
        }


        //**********************************************************************************************************************************

        //scroll Event

        window.addEventListener('scroll', () => {
            // console.log("scrolling");
        })

        //wheel event listener to detect the direction of scrolling (up or down) on a webpage. 
        window.addEventListener('wheel', (e) => {
            // console.log(e);
            // console.log(e.pageX);

            //e.deltaY easures the vertical scroll amount
            // The deltaY property returns a positive value when scrolling down, and a negative value when scrolling up, otherwise 0.

            if (e.deltaY < 0) {
                // console.log("scrolling Up");    //When you scroll up (towards the top of the page), deltaY is negative
            }
            else if (e.deltaY > 0) {
                // console.log("scrolling down");  //: When you scroll down (towards the bottom of the page), deltaY is positive.
            }
        })

        window.addEventListener('click', (e) => {
            // console.log(e.clientX);
            // console.log(e.pageX);
            // console.log(e.offsetX);
            if (e.clientX < 200) {
                // console.log("inside X 200");
            } else {
                // console.log("outside x 200");

            }
        })

        //when scroll from top 40px up change color
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 40) {
                document.body.style.background = "pink"
            } else {
                document.body.style.background = "white"
            }
        })

        //**********************************************************************************************************************************

        //navigtor
        console.log(navigator.platform);        //Win32

        //screen
        console.log(screen.height);     //720   
        console.log(screen.width);      //1280


        //**********************************************************************************************************************************

        //cookie is defined in name and value cookie has expires, size and domain name

        document.cookie = "item=fruits; expires=Sat, 1 Sep 2024 12:00:00 UTC; Secure; HttpOnly; SameSite=Strict; Path=/secure-path";


        //**********************************************************************************************************************************

        //Json

        let data = `{
            "name": "Virat",
            "age": 33,
            "isLoggedIn": true,
            "p_lang": ["c++","c","js"],
            "address": {
                "city": "mumbai",
                "state": "maharashra"
                }
        }`

        //This is called deserialization (or decoding). It converts a JSON string (data) into a JavaScript object (obj).
        let obj = JSON.parse(data);
        console.log(obj);
        console.log(obj['address']['city']);



        //stringify

        let student = {
            name: "virat",
            age: 22,
            city: "mumbai"
        }


        //This is called serialization (or encoding). It converts a JavaScript object (student) into a JSON string (newdata).
        let newdata = JSON.stringify(student);
        console.log(newdata);




        //**********************************************************************************************************************************
        //REST operator


        function sum(...args) {
            let result = 0;

            for (let i = 0; i < args.length; i++) {
                result = result + args[i];
                console.log(result);
                console.log(args);
                console.log(args[i]);

            }
            console.log(result);

        }

        sum(1, 3, 4, 5)


        //**********************************************************************************************************************************

        //Array destructing

        let book = ["js", 200, 150, ["rohan", 2024]]

        const [bname, price, page, [publish, year]] = book;

        console.log(bname);


        //**********************************************************************************************************************************
        // Object destructuring

        const std = {
            name: "virat",
            age: 20,
            address: "mumbai",

            // getname: function(){
            //     return this.name.toUpperCase();
            // }

            //getter

            get getname() {
                return this.name.toUpperCase();
            }
        };

        const { name, age, address } = std;    //same name as object key name to variable
        console.log(name);

        // console.log(std.getname());
        console.log(std.getname);




















    </script>
</body>

</html>